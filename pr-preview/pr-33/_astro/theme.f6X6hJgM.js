let h=Symbol("clean"),l=[],a=(s,c)=>{let i=[],t={get(){return t.lc||t.listen(()=>{})(),t.value},l:c||0,lc:0,listen(n,o){return t.lc=i.push(n,o||t.l)/2,()=>{let e=i.indexOf(n);~e&&(i.splice(e,2),--t.lc||t.off())}},notify(n){let o=!l.length;for(let e=0;e<i.length;e+=2)l.push(i[e],i[e+1],t.value,n);if(o){for(let e=0;e<l.length;e+=4){let u;for(let f=e+1;!u&&(f+=4)<l.length;)l[f]<l[e+1]&&(u=l.push(l[e],l[e+1],l[e+2],l[e+3]));u||l[e](l[e+2],l[e+3])}l.length=0}},off(){},set(n){t.value!==n&&(t.value=n,t.notify())},subscribe(n,o){let e=t.listen(n,o);return n(t.value),e},value:s};return t[h]=()=>{i=[],t.lc=0,t.off()},t};const g=typeof window<"u"&&typeof document<"u",r=()=>g?themeAtom:a(void 0),d=()=>r()?.get(),m=s=>r()?.set(s),p=()=>m(d()==="dark"?"light":"dark");export{r as g,m as s,p as t};
