import{D as ve,$ as M,h as Ct,i as dt,j as be,c as we,m as wt,k as kt,o as Gt,b as pt,s as qt,a as K,f as Se,d as Ut,l as Ee,n as Ae,p as xe,u as Oe,g as je,q as Ce,t as Pe}from"./dev.Dxg7lNKB.js";function Ne(t){return new Proxy({},{get(){return t}})}var $e=/[A-Z]/g,Me=/^ms-/,it={};function De(t){return"-"+t.toLowerCase()}function Te(t){if(it.hasOwnProperty(t))return it[t];var n=t.replace($e,De);return it[t]=Me.test(n)?"-"+n:n}const gt=Symbol("store-raw"),F=Symbol("store-node"),C=Symbol("store-has"),Zt=Symbol("store-self");function Ht(t){let n=t[M];if(!n&&(Object.defineProperty(t,M,{value:n=new Proxy(t,Re)}),!Array.isArray(t))){const s=Object.keys(t),i=Object.getOwnPropertyDescriptors(t);for(let e=0,r=s.length;e<r;e++){const o=s[e];i[o].get&&Object.defineProperty(t,o,{enumerable:i[o].enumerable,get:i[o].get.bind(n)})}}return n}function D(t){let n;return t!=null&&typeof t=="object"&&(t[M]||!(n=Object.getPrototypeOf(t))||n===Object.prototype||Array.isArray(t))}function V(t,n=new Set){let s,i,e,r;if(s=t!=null&&t[gt])return s;if(!D(t)||n.has(t))return t;if(Array.isArray(t)){Object.isFrozen(t)?t=t.slice(0):n.add(t);for(let o=0,a=t.length;o<a;o++)e=t[o],(i=V(e,n))!==e&&(t[o]=i)}else{Object.isFrozen(t)?t=Object.assign({},t):n.add(t);const o=Object.keys(t),a=Object.getOwnPropertyDescriptors(t);for(let f=0,c=o.length;f<c;f++)r=o[f],!a[r].get&&(e=t[r],(i=V(e,n))!==e&&(t[r]=i))}return t}function tt(t,n){let s=t[n];return s||Object.defineProperty(t,n,{value:s=Object.create(null)}),s}function U(t,n,s){if(t[n])return t[n];const[i,e]=we(s,{equals:!1,internal:!0});return i.$=e,t[n]=i}function Le(t,n){const s=Reflect.getOwnPropertyDescriptor(t,n);return!s||s.get||!s.configurable||n===M||n===F||(delete s.value,delete s.writable,s.get=()=>t[M][n]),s}function Xt(t){dt()&&U(tt(t,F),Zt)()}function _e(t){return Xt(t),Reflect.ownKeys(t)}const Re={get(t,n,s){if(n===gt)return t;if(n===M)return s;if(n===Ct)return Xt(t),s;const i=tt(t,F),e=i[n];let r=e?e():t[n];if(n===F||n===C||n==="__proto__")return r;if(!e){const o=Object.getOwnPropertyDescriptor(t,n);dt()&&(typeof r!="function"||t.hasOwnProperty(n))&&!(o&&o.get)&&(r=U(i,n,r)())}return D(r)?Ht(r):r},has(t,n){return n===gt||n===M||n===Ct||n===F||n===C||n==="__proto__"?!0:(dt()&&U(tt(t,C),n)(),n in t)},set(){return console.warn("Cannot mutate a Store directly"),!0},deleteProperty(){return console.warn("Cannot mutate a Store directly"),!0},ownKeys:_e,getOwnPropertyDescriptor:Le};function x(t,n,s,i=!1){if(!i&&t[n]===s)return;const e=t[n],r=t.length;s===void 0?(delete t[n],t[C]&&t[C][n]&&e!==void 0&&t[C][n].$()):(t[n]=s,t[C]&&t[C][n]&&e===void 0&&t[C][n].$());let o=tt(t,F),a;if((a=U(o,n,e))&&a.$(()=>s),Array.isArray(t)&&t.length!==r){for(let f=t.length;f<r;f++)(a=o[f])&&a.$();(a=U(o,"length",r))&&a.$(t.length)}(a=o[Zt])&&a.$()}function Yt(t,n){const s=Object.keys(n);for(let i=0;i<s.length;i+=1){const e=s[i];x(t,e,n[e])}}function Ie(t,n){if(typeof n=="function"&&(n=n(t)),n=V(n),Array.isArray(n)){if(t===n)return;let s=0,i=n.length;for(;s<i;s++){const e=n[s];t[s]!==e&&x(t,s,e)}x(t,"length",i)}else Yt(t,n)}function B(t,n,s=[]){let i,e=t;if(n.length>1){i=n.shift();const o=typeof i,a=Array.isArray(t);if(Array.isArray(i)){for(let f=0;f<i.length;f++)B(t,[i[f]].concat(n),s);return}else if(a&&o==="function"){for(let f=0;f<t.length;f++)i(t[f],f)&&B(t,[f].concat(n),s);return}else if(a&&o==="object"){const{from:f=0,to:c=t.length-1,by:u=1}=i;for(let h=f;h<=c;h+=u)B(t,[h].concat(n),s);return}else if(n.length>1){B(t[i],n,[i].concat(s));return}e=t[i],s=[i].concat(s)}let r=n[0];typeof r=="function"&&(r=r(e,s),r===e)||i===void 0&&r==null||(r=V(r),i===void 0||D(e)&&D(r)&&!Array.isArray(r)?Yt(e,r):x(t,i,r))}function Fe(...[t,n]){const s=V(t||{}),i=Array.isArray(s);if(typeof s!="object"&&typeof s!="function")throw new Error(`Unexpected type ${typeof s} received when initializing 'createStore'. Expected an object.`);const e=Ht(s);ve.registerGraph({value:s,name:n&&n.name});function r(...o){be(()=>{i&&o.length===1?Ie(s,o[0]):B(s,o)})}return[e,r]}const yt=Symbol("store-root");function R(t,n,s,i,e){const r=n[s];if(t===r)return;if(s!==yt&&(!D(t)||!D(r)||e&&t[e]!==r[e])){x(n,s,t);return}if(Array.isArray(t)){if(t.length&&r.length&&(!i||e&&t[0]&&t[0][e]!=null)){let f,c,u,h,d,m,S,v;for(u=0,h=Math.min(r.length,t.length);u<h&&(r[u]===t[u]||e&&r[u]&&t[u]&&r[u][e]===t[u][e]);u++)R(t[u],r,u,i,e);const j=new Array(t.length),w=new Map;for(h=r.length-1,d=t.length-1;h>=u&&d>=u&&(r[h]===t[d]||e&&r[u]&&t[u]&&r[h][e]===t[d][e]);h--,d--)j[d]=r[h];if(u>d||u>h){for(c=u;c<=d;c++)x(r,c,t[c]);for(;c<t.length;c++)x(r,c,j[c]),R(t[c],r,c,i,e);r.length>t.length&&x(r,"length",t.length);return}for(S=new Array(d+1),c=d;c>=u;c--)m=t[c],v=e&&m?m[e]:m,f=w.get(v),S[c]=f===void 0?-1:f,w.set(v,c);for(f=u;f<=h;f++)m=r[f],v=e&&m?m[e]:m,c=w.get(v),c!==void 0&&c!==-1&&(j[c]=r[f],c=S[c],w.set(v,c));for(c=u;c<t.length;c++)c in j?(x(r,c,j[c]),R(t[c],r,c,i,e)):x(r,c,t[c])}else for(let f=0,c=t.length;f<c;f++)R(t[f],r,f,i,e);r.length>t.length&&x(r,"length",t.length);return}const o=Object.keys(t);for(let f=0,c=o.length;f<c;f++)R(t[o[f]],r,o[f],i,e);const a=Object.keys(r);for(let f=0,c=a.length;f<c;f++)t[a[f]]===void 0&&x(r,a[f],void 0)}function Ve(t,n={}){const{merge:s,key:i="id"}=n,e=V(t);return r=>{if(!D(r)||!D(e))return e;const o=R(e,{[yt]:r},yt,s,i);return o===void 0?r:o}}function X(){return!0}var We={get(t,n,s){return n===M?s:t.get(n)},has(t,n){return t.has(n)},set:X,deleteProperty:X,getOwnPropertyDescriptor(t,n){return{configurable:!0,enumerable:!0,get(){return t.get(n)},set:X,deleteProperty:X}},ownKeys(t){return t.keys()}},mt=t=>typeof t=="function"&&!t.length?t():t;function Pt(t){return(...n)=>{for(const s of t)s&&s(...n)}}var ze=/((?:--)?(?:\w+-?)+)\s*:\s*([^;]*)/g;function Nt(t){const n={};let s;for(;s=ze.exec(t);)n[s[1]]=s[2];return n}function Ke(t,n){if(typeof t=="object"&&typeof n=="object")return{...t,...n};if(typeof t=="string"&&typeof n=="string")return`${t};${n}`;const s=typeof t=="object"?t:Nt(t),i=typeof n=="object"?n:Nt(n);return{...s,...i}}var rt=(t,n,s)=>{let i;for(const e of t){const r=mt(e)[n];i?r&&(i=s(i,r)):i=r}return i};function as(...t){if(t.length===1)return t[0];const n={};for(const i of t){const e=mt(i);for(const r in e)if(r[0]==="o"&&r[1]==="n"&&r[2]){const o=e[r],a=r.toLowerCase(),f=typeof o=="function"?o:Array.isArray(o)?o.length===1?o[0]:o[0].bind(void 0,o[1]):void 0;f?n[a]?n[a].push(f):n[a]=[f]:delete n[a]}}const s=wt(...t);return new Proxy({get(i){if(typeof i!="string")return Reflect.get(s,i);if(i==="style")return rt(t,"style",Ke);if(i==="ref"){const e=[];for(const r of t){const o=mt(r)[i];typeof o=="function"&&e.push(o)}return Pt(e)}if(i[0]==="o"&&i[1]==="n"&&i[2]){const e=n[i.toLowerCase()];return e?Pt(e):Reflect.get(s,i)}return i==="class"||i==="className"?rt(t,i,(e,r)=>`${e} ${r}`):i==="classList"?rt(t,i,(e,r)=>({...e,...r})):Reflect.get(s,i)},has(i){return Reflect.has(s,i)},keys(){return Object.keys(s)}},We)}var Be=t=>Array.isArray(t),ke=t=>!(t==null||typeof t!="object"||Be(t)),Ge=t=>typeof t=="number"&&!Number.isNaN(t),Jt=t=>typeof t=="string",qe=t=>t.startsWith("--")?t:Te(t);function Ue(t){let n={};for(const s in t){const i=t[s];!Jt(i)&&!Ge(i)||(n[qe(s)]=i)}return n}var $t={onFocus:"onFocusIn",onBlur:"onFocusOut",onDoubleClick:"onDblClick",onChange:"onInput",defaultChecked:"checked",defaultValue:"value",htmlFor:"for",className:"class"};function Ze(t){return t in $t?$t[t]:t}var fs=Ne(t=>{const n={};for(const s in t){const i=t[s];if(s==="style"&&ke(i)){n.style=Ue(i);continue}if(s==="children"){Jt(i)&&(n.textContent=i);continue}n[Ze(s)]=i}return n});function He(t,n){const{actions:s,state:i,context:e}=n??{},r=(()=>{const o=typeof t=="function"?t():t,a=typeof e=="function"?e():e;return a?o.withContext(a):o})();return kt(()=>{r.start(i),r.state.can("SETUP")&&r.send("SETUP"),Gt(()=>{r.stop()})}),pt(()=>{const o=typeof e=="function"?e():e;r.setContext(o)}),pt(()=>{r.setOptions({actions:s})}),r}function us(t,n){const s=He(t,n),[i,e]=Fe(s.getState());return kt(()=>{const r=s.subscribe(o=>{e(Ve(o))});Gt(()=>{r()})}),[i,s.send,s]}const ls=()=>(t,n)=>qt(t,n),Qt=(t,n)=>Ye({...Mt(t),...Mt(n)}),Mt=t=>typeof t=="object"?t:Xe(t),Xe=t=>{const n={};if(!t)return n;const s=/([^:; ]*):\s*([^;]*)/g;let i;for(;i=s.exec(t);)n[i[1]]=i[2];return n},Ye=t=>{if(!t)return"";let n="";const s=Object.keys(t);for(let i=0;i<s.length;i++){const e=s[i],r=t[e];r!=null&&(i&&(n+=";"),n+=`${e}:${r}`)}return n},Je=t=>`$$${t.toLowerCase().slice(2)}`,Qe=(t,n)=>Object.prototype.hasOwnProperty.call(t,n);function tn(t,n){return Object.fromEntries(Object.entries(t).map(([s,i])=>[s,n(s,i)]))}const en=(t,n)=>{const s=Object.fromEntries(Object.keys(t).filter(e=>e.startsWith("$$")).map(e=>[e,t[e]])),i=K(()=>tn(n,(e,r)=>{const o=Je(e);if(Qe(s,o))return function(...f){typeof r=="function"&&r(...f),s[o](...f)};if(e==="style")return Qt(t.style.cssText,r);if(e==="class")return[t.className,r].filter(Boolean).join(" ");if(!t.hasAttribute(e))return r}));Se(t,wt(i))},nn=["allowfullscreen","async","autofocus","autoplay","checked","controls","default","disabled","formnovalidate","hidden","indeterminate","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","seamless","selected"],sn=new Set(nn),rn=t=>t==null||t==null||typeof t=="object"&&Object.keys(t).length===0||typeof t=="string"&&t.trim().length===0,on=t=>typeof t=="function",St=(t,n)=>Object.fromEntries(Object.entries(t).filter(n)),cn=t=>St(t,([,n])=>!rn(n)),an=t=>St(t,([,n])=>!on(n)),fn=t=>St(t,([n,s])=>!(sn.has(n)&&!s)),te=0,ee=1,J=2,ne=3,se=4,un=Symbol("Fragment"),ie=new Set(["area","base","br","col","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"]),ot=new Set(["script","style"]),Dt=/([@.a-z0-9_:-]*)\s*?=?\s*?(['"]?)([\s\S]*?)\2\s+/gim,b=/(?:<(\/?)([a-zA-Z][a-zA-Z0-9:-]*)(?:\s([^>]*?))?((?:\s*\/)?)>|(<!--)([\s\S]*?)(-->)|(<!)([\s\S]*?)(>))/gm;function ln(t){const n={};let s;if(t)for(Dt.lastIndex=0,t=" "+(t||"")+" ";s=Dt.exec(t);)s[0]!==" "&&(n[s[1]]=s[3]);return n}function hn(t){let n,s,i,e,r,o,a,f,c;const u=[];b.lastIndex=0,s=n={type:te,children:[]};let h=0;function d(){e=t.substring(h,b.lastIndex-i[0].length),e&&s.children.push({type:J,value:e,parent:s})}for(;i=b.exec(t);){if(o=i[5]||i[8],a=i[6]||i[9],f=i[7]||i[10],ot.has(s.name)&&i[2]!==s.name){r=b.lastIndex-i[0].length,s.children.length>0&&(s.children[0].value+=i[0]);continue}else if(o==="<!--"){if(r=b.lastIndex-i[0].length,ot.has(s.name))continue;c={type:ne,value:a,parent:s,loc:[{start:r,end:r+o.length},{start:b.lastIndex-f.length,end:b.lastIndex}]},u.push(c),c.parent.children.push(c)}else if(o==="<!")r=b.lastIndex-i[0].length,c={type:se,value:a,parent:s,loc:[{start:r,end:r+o.length},{start:b.lastIndex-f.length,end:b.lastIndex}]},u.push(c),c.parent.children.push(c);else if(i[1]!=="/")if(d(),ot.has(s.name)){h=b.lastIndex,d();continue}else c={type:ee,name:i[2]+"",attributes:ln(i[3]),parent:s,children:[],loc:[{start:b.lastIndex-i[0].length,end:b.lastIndex}]},u.push(c),c.parent.children.push(c),i[4]&&i[4].indexOf("/")>-1||ie.has(c.name)?(c.loc[1]=c.loc[0],c.isSelfClosingTag=!0):s=c;else d(),i[2]+""===s.name?(c=s,s=c.parent,c.loc.push({start:b.lastIndex-i[0].length,end:b.lastIndex}),e=t.substring(c.loc[0].end,c.loc[1].start),c.children.length===0&&c.children.push({type:J,value:e,parent:s})):i[2]+""===u[u.length-1].name&&u[u.length-1].isSelfClosingTag===!0&&(c=u[u.length-1],c.loc.push({start:b.lastIndex-i[0].length,end:b.lastIndex}));h=b.lastIndex}return e=t.slice(h),s.children.push({type:J,value:e,parent:s}),n}const Et=Symbol("HTMLString"),dn=Symbol("AttrString"),Tt=Symbol("RenderFn");function re(t,n=[Et]){const s={value:t};for(const i of n)Object.defineProperty(s,i,{value:!0,enumerable:!1,writable:!1});return s}const pn={"&":"&amp;","<":"&lt;",">":"&gt;"};function gn(t){return t.replace(/[&<>]/g,n=>pn[n]||n)}function Lt(t){let n="";for(const[s,i]of Object.entries(t))n+=` ${s}="${i}"`;return re(n,[Et,dn])}function yn(t){const{name:n,attributes:s={}}=t,i=t.children.map(e=>At(e)).join("");if(Tt in t){const e=t[Tt](s,re(i));return e&&e[Et]?e.value:gn(String(e))}return n===un?i:ie.has(n)?`<${t.name}${Lt(s).value}>`:`<${t.name}${Lt(s).value}>${i}</${t.name}>`}function At(t){switch(t.type){case te:return t.children.map(n=>At(n)).join("");case ee:return yn(t);case J:return`${t.value}`;case ne:return`<!--${t.value}-->`;case se:return`<!${t.value}>`}}const mn=(t,n,...s)=>s.reduce((i,e)=>e(i),n(t)),vn=(t,n)=>{if(bn(t))return t;const{t:s}=t,i=hn(s),[e]=i.children,r=Object.assign({},n,{class:[n?.class,e.attributes.class].filter(Boolean).join(" "),style:Qt(n.style,e.attributes.style)}),o=mn(r,cn,an,fn);return Object.assign(e.attributes,o),{t:At(i)}},bn=t=>!Object.hasOwnProperty.call(t,"t");function ct(t){return function(s){const[i,e]=qt(s,["asChild","children"]);if(!i.asChild)return Ut(Ee,wt({component:t},e,{get children(){return i.children}}));const r=Ae(()=>vn(i.children,e));return pt(()=>{const o=r();o instanceof HTMLElement&&en(o,e)}),r}}function wn(){const t=new Map;return new Proxy(ct,{apply(n,s,i){return ct(i[0])},get(n,s){const i=s;return t.has(i)||t.set(i,ct(i)),t.get(i)}})}const hs=wn(),Sn=Symbol(),_t=Object.getPrototypeOf,vt=new WeakMap,En=t=>t&&(vt.has(t)?vt.get(t):_t(t)===Object.prototype||_t(t)===Array.prototype),An=t=>En(t)&&t[Sn]||null,Rt=(t,n=!0)=>{vt.set(t,n)};var at=t=>typeof t=="object"&&t!==null,T=new WeakMap,k=new WeakSet,xn=(t=Object.is,n=(c,u)=>new Proxy(c,u),s=c=>at(c)&&!k.has(c)&&(Array.isArray(c)||!(Symbol.iterator in c))&&!(c instanceof WeakMap)&&!(c instanceof WeakSet)&&!(c instanceof Error)&&!(c instanceof Number)&&!(c instanceof Date)&&!(c instanceof String)&&!(c instanceof RegExp)&&!(c instanceof ArrayBuffer),i=c=>{switch(c.status){case"fulfilled":return c.value;case"rejected":throw c.reason;default:throw c}},e=new WeakMap,r=(c,u,h=i)=>{const d=e.get(c);if(d?.[0]===u)return d[1];const m=Array.isArray(c)?[]:Object.create(Object.getPrototypeOf(c));return Rt(m,!0),e.set(c,[u,m]),Reflect.ownKeys(c).forEach(S=>{const v=Reflect.get(c,S);k.has(v)?(Rt(v,!1),m[S]=v):v instanceof Promise?Object.defineProperty(m,S,{get(){return h(v)}}):T.has(v)?m[S]=W(v,h):m[S]=v}),Object.freeze(m)},o=new WeakMap,a=[1,1],f=c=>{if(!at(c))throw new Error("object required");const u=o.get(c);if(u)return u;let h=a[0];const d=new Set,m=(y,p=++a[0])=>{h!==p&&(h=p,d.forEach(g=>g(y,p)))};let S=a[1];const v=(y=++a[1])=>(S!==y&&!d.size&&(S=y,w.forEach(([p])=>{const g=p[1](y);g>h&&(h=g)})),h),j=y=>(p,g)=>{const E=[...p];E[1]=[y,...E[1]],m(E,g)},w=new Map,ge=(y,p)=>{if(w.has(y))throw new Error("prop listener already exists");if(d.size){const g=p[3](j(y));w.set(y,[p,g])}else w.set(y,[p])},jt=y=>{const p=w.get(y);p&&(w.delete(y),p[1]?.())},ye=y=>(d.add(y),d.size===1&&w.forEach(([g,E],L)=>{if(E)throw new Error("remove already exists");const z=g[3](j(L));w.set(L,[g,z])}),()=>{d.delete(y),d.size===0&&w.forEach(([g,E],L)=>{E&&(E(),w.set(L,[g]))})}),st=Array.isArray(c)?[]:Object.create(Object.getPrototypeOf(c)),Z=n(st,{deleteProperty(y,p){const g=Reflect.get(y,p);jt(p);const E=Reflect.deleteProperty(y,p);return E&&m(["delete",[p],g]),E},set(y,p,g,E){const L=Reflect.has(y,p),z=Reflect.get(y,p,E);if(L&&(t(z,g)||o.has(g)&&t(z,o.get(g))))return!0;jt(p),at(g)&&(g=An(g)||g);let H=g;if(!Object.getOwnPropertyDescriptor(y,p)?.set)if(g instanceof Promise)g.then(N=>{g.status="fulfilled",g.value=N,m(["resolve",[p],N])}).catch(N=>{g.status="rejected",g.reason=N,m(["reject",[p],N])});else{!T.has(g)&&s(g)&&(H=xt(g));const N=!k.has(H)&&T.get(H);N&&ge(p,N)}return Reflect.set(y,p,H,E),m(["set",[p],g,z]),!0}});o.set(c,Z);const me=[st,v,r,ye];return T.set(Z,me),Reflect.ownKeys(c).forEach(y=>{const p=Object.getOwnPropertyDescriptor(c,y);p.get||p.set?Object.defineProperty(st,y,p):Z[y]=c[y]}),Z})=>[f,T,k,t,n,s,i,e,r,o,a],[On]=xn();function xt(t={}){return On(t)}function bt(t,n,s){const i=T.get(t);i||console.warn("Please use proxy object");let e;const r=[],o=i[3];let a=!1;const c=o(u=>{if(r.push(u),s){n(r.splice(0));return}e||(e=Promise.resolve().then(()=>{e=void 0,a&&n(r.splice(0))}))});return a=!0,()=>{a=!1,c()}}function W(t,n){const s=T.get(t);s||console.warn("Please use proxy object");const[i,e,r]=s;return r(i,e(),n)}function It(t){return k.add(t),t}function jn(t,n){Object.keys(n).forEach(e=>{if(Object.getOwnPropertyDescriptor(t,e))throw new Error("object property already defined");const r=n[e],{get:o,set:a}=typeof r=="function"?{get:r}:r,f={};f.get=()=>o(W(i)),a&&(f.set=c=>a(i,c)),Object.defineProperty(t,e,f)});const i=xt(t);return i}var Cn=(t,n)=>Object.is(t,n);function Ft(t,n,s,i,e){let r=Reflect.get(W(t),n);const o=e||Cn;function a(){const f=W(t);o(r,f[n])||(s(f[n]),r=Reflect.get(f,n))}return bt(t,a,i)}function Vt(t,n,s){typeof s.value=="object"&&(s.value=I(s.value)),!s.enumerable||s.get||s.set||!s.configurable||!s.writable||n==="__proto__"?Object.defineProperty(t,n,s):t[n]=s.value}function I(t){if(typeof t!="object")return t;var n=0,s,i,e,r=Object.prototype.toString.call(t);if(r==="[object Object]"?e=Object.create(t.__proto__||null):r==="[object Array]"?e=Array(t.length):r==="[object Set]"?(e=new Set,t.forEach(function(o){e.add(I(o))})):r==="[object Map]"?(e=new Map,t.forEach(function(o,a){e.set(I(a),I(o))})):r==="[object Date]"?e=new Date(+t):r==="[object RegExp]"?e=new RegExp(t.source,t.flags):r==="[object DataView]"?e=new t.constructor(I(t.buffer)):r==="[object ArrayBuffer]"?e=t.slice(0):r.slice(-6)==="Array]"&&(e=new t.constructor(t)),e){for(i=Object.getOwnPropertySymbols(t);n<i.length;n++)Vt(e,i[n],Object.getOwnPropertyDescriptor(t,i[n]));for(n=0,i=Object.getOwnPropertyNames(t);n<i.length;n++)Object.hasOwnProperty.call(e,s=i[n])&&e[s]===t[s]||Vt(e,s,Object.getOwnPropertyDescriptor(t,s))}return e||t}var Pn=Object.defineProperty,Nn=(t,n,s)=>n in t?Pn(t,n,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[n]=s,l=(t,n,s)=>(Nn(t,typeof n!="symbol"?n+"":n,s),s);function $n(t){for(;t.length>0;)t.pop();return t}var Wt=(t,...n)=>(typeof t=="function"?t(...n):t)??void 0,P=t=>t,ft=()=>{},zt=(()=>{let t=0;return()=>(t++,t.toString(36))})(),G=t=>Array.isArray(t),q=t=>!(t==null||typeof t!="object"||G(t)),Mn=t=>typeof t=="number"&&!Number.isNaN(t),O=t=>typeof t=="string",et=t=>typeof t=="function";function nt(t){if(!Dn(t)||t===void 0)return t;const n=Reflect.ownKeys(t).filter(i=>typeof i=="string"),s={};for(const i of n){const e=t[i];e!==void 0&&(s[i]=nt(e))}return s}var Dn=t=>t&&typeof t=="object"&&t.constructor===Object;function ut(...t){const n=t.length===1?t[0]:t[1];(t.length===2?t[0]:!0)&&console.warn(n)}function Q(...t){const n=t.length===1?t[0]:t[1];if(t.length===2?t[0]:!0)throw new Error(n)}function oe(t,...n){for(const s of n){const i=nt(s);for(const e in i)q(s[e])?(t[e]||(t[e]={}),oe(t[e],s[e])):t[e]=s[e]}return t}function Kt(t){return I(t)}function A(t){return O(t)?{type:t}:t}function $(t){return t?G(t)?t.slice():[t]:[]}function ce(t){return q(t)&&t.predicate!=null}var Tn=()=>!0;function Ot(t,n,s,i){return e=>O(e)?!!t[e]?.(n,s,i):et(e)?e(n,s,i):e.predicate(t)(n,s,i)}function Ln(...t){return{predicate:n=>(s,i,e)=>t.map(Ot(n,s,i,e)).some(Boolean)}}function _n(...t){return{predicate:n=>(s,i,e)=>t.map(Ot(n,s,i,e)).every(Boolean)}}function Rn(t){return{predicate:n=>(s,i,e)=>!Ot(n,s,i,e)(t)}}function In(...t){return(n,s,i)=>i.state.matches(...t)}var ds={or:Ln,and:_n,not:Rn,stateIn:In};function ae(t,n){return t=t??Tn,(s,i,e)=>{if(O(t)){const r=n[t];return et(r)?r(s,i,e):r}return ce(t)?t.predicate(n)(s,i,e):t?.(s,i,e)}}function lt(t,n){return(s,i,e)=>ce(t)?t.predicate(n)(s,i,e):t}function Fn(t){const n=t.computed??P({}),s=t.context??P({}),i=xt({value:t.initial??"",previousValue:"",event:P({}),previousEvent:P({}),context:jn(s,n),done:!1,tags:[],hasTag(e){return this.tags.includes(e)},matches(...e){return e.includes(this.value)},can(e){return P(this).nextEvents.includes(e)},get nextEvents(){const e=t.states?.[this.value]?.on??{},r=t?.on??{};return Object.keys({...e,...r})},get changed(){return this.event.value==="machine.init"||!this.previousValue?!1:this.value!==this.previousValue}});return P(i)}function Y(t,n){return(s,i)=>{if(Mn(t))return t;if(et(t))return t(s,i);if(O(t)){const e=Number.parseFloat(t);if(!Number.isNaN(e))return e;if(n){const r=n?.[t];return Q(r==null,`[@zag-js/core > determine-delay] Cannot determine delay for \`${t}\`. It doesn't exist in \`options.delays\``),et(r)?r(s,i):r}}}}function Vn(t){return O(t)?{target:t}:t}function Wn(t,n){return(s,i,e)=>$(t).map(Vn).find(r=>ae(r.guard,n)(s,i,e)??r.target??r.actions)}var zn=class fe{constructor(n,s){l(this,"status","Not Started"),l(this,"state"),l(this,"initialState"),l(this,"initialContext"),l(this,"id"),l(this,"type","machine"),l(this,"activityEvents",new Map),l(this,"delayedEvents",new Map),l(this,"stateListeners",new Set),l(this,"contextListeners",new Set),l(this,"eventListeners",new Set),l(this,"doneListeners",new Set),l(this,"contextWatchers",new Set),l(this,"removeStateListener",ft),l(this,"removeEventListener",ft),l(this,"removeContextListener",ft),l(this,"parent"),l(this,"children",new Map),l(this,"guardMap"),l(this,"actionMap"),l(this,"delayMap"),l(this,"activityMap"),l(this,"sync"),l(this,"options"),l(this,"config"),l(this,"start",e=>{if(this.state.value="",this.status==="Running")return this;this.status="Running",this.removeStateListener=bt(this.state,()=>{this.stateListeners.forEach(u=>{u(this.stateSnapshot)})},this.sync),this.removeEventListener=Ft(this.state,"event",u=>{this.executeActions(this.config.onEvent,u),this.eventListeners.forEach(h=>{h(u)})},this.sync),this.removeContextListener=bt(this.state.context,()=>{this.log("Context:",this.contextSnapshot),this.contextListeners.forEach(u=>{u(this.contextSnapshot)})},this.sync||this.options.debug),this.setupContextWatchers(),this.executeActivities(A("machine.start"),$(this.config.activities),"machine.start"),this.executeActions(this.config.entry,A("machine.start"));const r=A("machine.init"),o=q(e)?e.value:e,a=q(e)?e.context:void 0;a&&this.setContext(a);const f={target:o??this.config.initial},c=this.getNextStateInfo(f,r);return this.initialState=c,this.performStateChangeEffects(this.state.value,c,r),this}),l(this,"setupContextWatchers",()=>{for(const[e,r]of Object.entries(this.config.watch??{})){const o=this.options.compareFns?.[e],a=Ft(this.state.context,e,()=>{this.executeActions(r,this.state.event)},this.sync,o);this.contextWatchers.add(a)}}),l(this,"stop",()=>{if(this.status!=="Stopped")return this.performExitEffects(this.state.value,A("machine.stop")),this.executeActions(this.config.exit,A("machine.stop")),this.setState(""),this.setEvent("machine.stop"),this.stopStateListeners(),this.stopChildren(),this.stopActivities(),this.stopDelayedEvents(),this.stopContextWatchers(),this.stopEventListeners(),this.stopContextListeners(),this.status="Stopped",this}),l(this,"stopEventListeners",()=>{this.eventListeners.clear(),this.removeEventListener()}),l(this,"stopContextListeners",()=>{this.contextListeners.clear(),this.removeContextListener()}),l(this,"stopStateListeners",()=>{this.removeStateListener(),this.stateListeners.clear()}),l(this,"stopContextWatchers",()=>{this.contextWatchers.forEach(e=>e()),this.contextWatchers.clear()}),l(this,"stopDelayedEvents",()=>{this.delayedEvents.forEach(e=>{e.forEach(r=>r())}),this.delayedEvents.clear()}),l(this,"stopActivities",e=>{e?(this.activityEvents.get(e)?.forEach(r=>r()),this.activityEvents.get(e)?.clear(),this.activityEvents.delete(e)):(this.activityEvents.forEach(r=>{r.forEach(o=>o()),r.clear()}),this.activityEvents.clear())}),l(this,"sendChild",(e,r)=>{const o=A(e),a=Wt(r,this.contextSnapshot),f=this.children.get(a);f||Q(`[@zag-js/core] Cannot send '${o.type}' event to unknown child`),f.send(o)}),l(this,"stopChild",e=>{this.children.has(e)||Q(`[@zag-js/core > stop-child] Cannot stop unknown child ${e}`),this.children.get(e).stop(),this.children.delete(e)}),l(this,"removeChild",e=>{this.children.delete(e)}),l(this,"stopChildren",()=>{this.children.forEach(e=>e.stop()),this.children.clear()}),l(this,"setParent",e=>{this.parent=e}),l(this,"spawn",(e,r)=>{const o=Wt(e);return r&&(o.id=r),o.type="machine.actor",o.setParent(this),this.children.set(o.id,P(o)),o.onDone(()=>{this.removeChild(o.id)}).start(),P(It(o))}),l(this,"stopActivity",e=>{if(!this.state.value)return;const r=this.activityEvents.get(this.state.value);r?.get(e)?.(),r?.delete(e)}),l(this,"addActivityCleanup",(e,r,o)=>{e&&(this.activityEvents.has(e)?this.activityEvents.get(e)?.set(r,o):this.activityEvents.set(e,new Map([[r,o]])))}),l(this,"setState",e=>{this.state.previousValue=this.state.value,this.state.value=e;const r=this.getStateNode(e);e==null?$n(this.state.tags):this.state.tags=$(r?.tags)}),l(this,"transformContext",e=>(this.options?.transformContext?.(e),e)),l(this,"setContext",e=>{e&&oe(this.state.context,this.transformContext(e))}),l(this,"withContext",e=>{const r=this.transformContext(e),o={...this.config.context,...nt(r)};return new fe({...this.config,context:o},this.options)}),l(this,"setOptions",e=>{const r=nt(e);this.actionMap={...this.actionMap,...r.actions},this.delayMap={...this.delayMap,...r.delays},this.activityMap={...this.activityMap,...r.activities},this.guardMap={...this.guardMap,...r.guards}}),l(this,"getStateNode",e=>{if(e)return this.config.states?.[e]}),l(this,"getNextStateInfo",(e,r)=>{const o=this.determineTransition(e,r),a=!o?.target,f=o?.target??this.state.value,c=this.state.value!==f,u=this.getStateNode(f),d={reenter:!a&&!c&&!o?.internal,transition:o,stateNode:u,target:f,changed:c};return this.log("NextState:",`[${r.type}]`,this.state.value,"---->",d.target),d}),l(this,"getActionFromDelayedTransition",e=>{const r=A("machine.after"),a=Y(e.delay,this.delayMap)(this.contextSnapshot,r);let f;return{entry:()=>{f=globalThis.setTimeout(()=>{const c=this.getNextStateInfo(e,r);this.performStateChangeEffects(this.state.value,c,r)},a)},exit:()=>{globalThis.clearTimeout(f)}}}),l(this,"getDelayedEventActions",e=>{const r=this.getStateNode(e),o=A("machine.after");if(!r||!r.after)return;const a=[],f=[];if(G(r.after)){const c=this.determineTransition(r.after,o);if(!c)return;const u=this.getActionFromDelayedTransition(c);a.push(u.entry),f.push(u.exit)}else if(q(r.after))for(const c in r.after){const u=r.after[c];let h={};if(G(u)){const m=this.determineTransition(u,o);m&&(h=m)}else O(u)?h={target:u,delay:c}:h={...u,delay:c};const d=this.getActionFromDelayedTransition(h);a.push(d.entry),f.push(d.exit)}return{entries:a,exits:f}}),l(this,"executeActions",(e,r)=>{const o=lt(e,this.guardMap)(this.contextSnapshot,r,this.guardMeta);for(const a of $(o)){const f=O(a)?this.actionMap?.[a]:a;ut(O(a)&&!f,`[@zag-js/core > execute-actions] No implementation found for action: \`${a}\``),f?.(this.state.context,r,this.meta)}}),l(this,"executeActivities",(e,r,o)=>{for(const a of r){const f=O(a)?this.activityMap?.[a]:a;if(!f){ut(`[@zag-js/core > execute-activity] No implementation found for activity: \`${a}\``);continue}const c=f(this.state.context,e,this.meta);if(c){const u=O(a)?a:a.name||zt();this.addActivityCleanup(o??this.state.value,u,c)}}}),l(this,"createEveryActivities",(e,r)=>{if(!e)return;const o=A("machine.every");if(G(e)){const a=$(e).find(h=>{const d=h.delay,S=Y(d,this.delayMap)(this.contextSnapshot,o);return ae(h.guard,this.guardMap)(this.contextSnapshot,o,this.guardMeta)??S!=null});if(!a)return;const c=Y(a.delay,this.delayMap)(this.contextSnapshot,o);r(()=>{const h=globalThis.setInterval(()=>{this.executeActions(a.actions,o)},c);return()=>{globalThis.clearInterval(h)}})}else for(const a in e){const f=e?.[a],u=Y(a,this.delayMap)(this.contextSnapshot,o);r(()=>{const d=globalThis.setInterval(()=>{this.executeActions(f,o)},u);return()=>{globalThis.clearInterval(d)}})}}),l(this,"setEvent",e=>{this.state.previousEvent=this.state.event,this.state.event=It(A(e))}),l(this,"performExitEffects",(e,r)=>{const o=this.state.value;if(o==="")return;const a=e?this.getStateNode(e):void 0;this.stopActivities(o);const f=lt(a?.exit,this.guardMap)(this.contextSnapshot,r,this.guardMeta),c=$(f),u=this.delayedEvents.get(o);u&&c.push(...u),this.executeActions(c,r),this.eventListeners.clear()}),l(this,"performEntryEffects",(e,r)=>{const o=this.getStateNode(e),a=$(o?.activities);this.createEveryActivities(o?.every,h=>{a.unshift(h)}),a.length>0&&this.executeActivities(r,a);const f=lt(o?.entry,this.guardMap)(this.contextSnapshot,r,this.guardMeta),c=$(f),u=this.getDelayedEventActions(e);o?.after&&u&&(this.delayedEvents.set(e,u?.exits),c.push(...u.entries)),this.executeActions(c,r),o?.type==="final"&&(this.state.done=!0,this.doneListeners.forEach(h=>{h(this.stateSnapshot)}),this.stop())}),l(this,"performTransitionEffects",(e,r)=>{const o=this.determineTransition(e,r);this.executeActions(o?.actions,r)}),l(this,"performStateChangeEffects",(e,r,o)=>{this.setEvent(o);const a=r.changed||r.reenter;a&&this.performExitEffects(e,o),this.performTransitionEffects(r.transition,o),this.setState(r.target),a&&this.performEntryEffects(r.target,o)}),l(this,"determineTransition",(e,r)=>Wn(e,this.guardMap)?.(this.contextSnapshot,r,this.guardMeta)),l(this,"sendParent",e=>{this.parent||Q("[@zag-js/core > send-parent] Cannot send event to an unknown parent");const r=A(e);this.parent?.send(r)}),l(this,"log",(...e)=>{this.options.debug&&console.log(...e)}),l(this,"send",e=>{const r=A(e);this.transition(this.state.value,r)}),l(this,"transition",(e,r)=>{const o=O(e)?this.getStateNode(e):e?.stateNode,a=A(r);if(!o&&!this.config.on){const u=this.status==="Stopped"?"[@zag-js/core > transition] Cannot transition a stopped machine":`[@zag-js/core > transition] State does not have a definition for \`state\`: ${e}, \`event\`: ${a.type}`;ut(u);return}const f=o?.on?.[a.type]??this.config.on?.[a.type],c=this.getNextStateInfo(f,a);return this.performStateChangeEffects(this.state.value,c,a),c.stateNode}),l(this,"subscribe",e=>(this.stateListeners.add(e),this.status==="Running"&&e(this.stateSnapshot),()=>{this.stateListeners.delete(e)})),l(this,"onDone",e=>(this.doneListeners.add(e),this)),l(this,"onTransition",e=>(this.stateListeners.add(e),this.status==="Running"&&e(this.stateSnapshot),this)),l(this,"onChange",e=>(this.contextListeners.add(e),this)),l(this,"onEvent",e=>(this.eventListeners.add(e),this)),this.config=Kt(n),this.options=Kt(s??{}),this.id=this.config.id??`machine-${zt()}`,this.guardMap=this.options?.guards??{},this.actionMap=this.options?.actions??{},this.delayMap=this.options?.delays??{},this.activityMap=this.options?.activities??{},this.sync=this.options?.sync??!1,this.state=Fn(this.config),this.initialContext=W(this.state.context),this.transformContext(this.state.context);const i=A("machine.created");this.executeActions(this.config?.created,i)}get stateSnapshot(){return P(W(this.state))}getState(){return this.stateSnapshot}get contextSnapshot(){return this.stateSnapshot.context}get self(){const n=this;return{id:this.id,send:this.send.bind(this),sendParent:this.sendParent.bind(this),sendChild:this.sendChild.bind(this),stop:this.stop.bind(this),stopChild:this.stopChild.bind(this),spawn:this.spawn.bind(this),stopActivity:this.stopActivity.bind(this),get state(){return n.stateSnapshot},get initialContext(){return n.initialContext},get initialState(){return n.initialState?.target??""}}}get meta(){return{state:this.stateSnapshot,guards:this.guardMap,send:this.send.bind(this),self:this.self,initialContext:this.initialContext,initialState:this.initialState?.target??"",getState:()=>this.stateSnapshot,getAction:n=>this.actionMap[n],getGuard:n=>this.guardMap[n]}}get guardMeta(){return{state:this.stateSnapshot}}get[Symbol.toStringTag](){return"Machine"}},ps=(t,n)=>new zn(t,n);function Kn(t,n){return`${t} returned \`undefined\`. Seems you forgot to wrap component within ${n}`}function Bn(t={}){const{strict:n=!0,hookName:s="useContext",providerName:i="Provider",errorMessage:e}=t,r=xe(void 0);function o(){const a=Oe(r);if(!a&&n){const f=new Error(e??Kn(s,i));throw f.name="ContextError",Error.captureStackTrace?.(f,o),f}return a}return[r.Provider,o,r]}var ht=(t,n=[])=>({parts:(...s)=>{if(kn(n))return ht(t,s);throw new Error("createAnatomy().parts(...) should only be called once. Did you mean to use .extendWith(...) ?")},extendWith:(...s)=>ht(t,[...n,...s]),rename:s=>ht(s,n),keys:()=>n,build:()=>[...new Set(n)].reduce((s,i)=>Object.assign(s,{[i]:{selector:[`&[data-scope="${_(t)}"][data-part="${_(i)}"]`,`& [data-scope="${_(t)}"][data-part="${_(i)}"]`].join(", "),attrs:{"data-scope":_(t),"data-part":_(i)}}}),{})}),_=t=>t.replace(/([A-Z])([A-Z])/g,"$1-$2").replace(/([a-z])([A-Z])/g,"$1-$2").replace(/[\s_]+/g,"-").toLowerCase(),kn=t=>t.length===0,gs=t=>t?"":void 0,ue=t=>typeof t=="object"&&t?.nodeType===Node.ELEMENT_NODE&&typeof t?.nodeName=="string",Gn=t=>t.nodeType===Node.DOCUMENT_NODE?t:t.ownerDocument??document;function ys(t){const n={getRootNode:s=>s.getRootNode?.()??document,getDoc:s=>Gn(n.getRootNode(s)),getWin:s=>n.getDoc(s).defaultView??window,getActiveElement:s=>n.getDoc(s).activeElement,isActiveElement:(s,i)=>i===n.getActiveElement(s),focus(s,i){i!=null&&(n.isActiveElement(s,i)||i.focus({preventScroll:!0}))},getById:(s,i)=>n.getRootNode(s).getElementById(i),setValue:(s,i)=>{if(s==null||i==null)return;const e=i.toString();s.value!==e&&(s.value=i.toString())}};return{...n,...t}}var qn=t=>t.nodeType===Node.DOCUMENT_NODE,Un=t=>t.nodeType!==void 0,Zn=t=>t&&Un(t)&&t.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&"host"in t;function Hn(t){return Zn(t)?Hn(t.host):qn(t)?t.defaultView??window:ue(t)?t.ownerDocument?.defaultView??window:window}function le(t){const n=t.ownerDocument.defaultView||window,{overflow:s,overflowX:i,overflowY:e}=n.getComputedStyle(t);return/auto|scroll|overlay|hidden/.test(s+e+i)}function he(t){return t.localName==="html"?t:t.assignedSlot||t.parentElement||t.ownerDocument.documentElement}function de(t){return["html","body","#document"].includes(t.localName)?t.ownerDocument.body:ue(t)&&le(t)?t:de(he(t))}function Xn(t,n=[]){const s=de(t),i=s===t.ownerDocument.body,e=s.ownerDocument.defaultView||window,r=i?[e].concat(e.visualViewport||[],le(s)?s:[]):s,o=n.concat(r);return i?o:o.concat(Xn(he(r)))}var pe=()=>typeof document<"u";function Yn(){return navigator.userAgentData?.platform??navigator.platform}var Jn=t=>pe()&&t.test(Yn()),Qn=t=>pe()&&t.test(navigator.vendor),ms=()=>ts()&&Qn(/apple/i),ts=()=>Jn(/mac|iphone|ipad|ipod/i);function vs(t){const n=globalThis.requestAnimationFrame(t);return()=>{globalThis.cancelAnimationFrame(n)}}var bs=(t,n)=>{if(Object.is(t,n))return!0;if(!(t instanceof Object)||!(n instanceof Object))return!1;const s=Object.keys(t),i=s.length;for(let e=0;e<i;e++)if(!(s[e]in n))return!1;for(let e=0;e<i;e++)if(t[s[e]]!==n[s[e]])return!1;return i===Object.keys(n).length},ws=(t,...n)=>(typeof t=="function"?t(...n):t)??void 0,Ss=(...t)=>(...n)=>{t.forEach(function(s){s?.(...n)})},Es=t=>t==null;function es(t){if(!ns(t)||t===void 0)return t;const n=Reflect.ownKeys(t).filter(i=>typeof i=="string"),s={};for(const i of n){const e=t[i];e!==void 0&&(s[i]=es(e))}return s}var ns=t=>t&&typeof t=="object"&&t.constructor===Object;const[ss,As]=Bn({hookName:"useEnvironmentContext",providerName:"<EnvironmentProvider />",strict:!1}),is=Pe("<span hidden>"),Bt=t=>{let n;const s=K(()=>()=>t.value??n?.ownerDocument??document);return Ut(ss,{get value(){return s()},get children(){return[K(()=>t.children),K(()=>K(()=>!t.value)()&&(()=>{const i=je(is),e=n;return typeof e=="function"?Ce(e,i):n=i,i})())]}})};Object.assign(Bt,{Root:Bt});const rs=t=>typeof t=="function",xs=(t,...n)=>rs(t)?t(...n):t;export{bs as A,Fe as B,V as C,Ve as D,ps as a,hs as b,ls as c,Bn as d,vs as e,Ss as f,ds as g,Es as h,ue as i,ws as j,es as k,Hn as l,as as m,ht as n,ys as o,xt as p,gs as q,It as r,de as s,Xn as t,us as u,bt as v,ms as w,As as x,fs as y,xs as z};
